- id: '1626920784509'
  alias: 'Dev: IKEA -> Hue Toggle Power'
  description: ''
  trigger:
  - device_id: 8c374a1a2dc294ec7b4467957a7df0d5
    domain: zha
    platform: device
    type: remote_button_short_press
    subtype: turn_on
  condition: []
  action:
  - type: toggle
    device_id: b5baa12d1a26a8ad901d8df8d402b3ba
    entity_id: light.hue_lightstrip_2
    domain: light
  mode: single
- id: '1626920868327'
  alias: 'Dev: IKEA -> Hue Brightness Up'
  description: ''
  trigger:
  - device_id: 8c374a1a2dc294ec7b4467957a7df0d5
    domain: zha
    platform: device
    type: remote_button_short_press
    subtype: dim_up
  condition: []
  action:
  - device_id: b5baa12d1a26a8ad901d8df8d402b3ba
    domain: light
    entity_id: light.hue_lightstrip_2
    type: brightness_increase
  mode: single
- id: '1626920884707'
  alias: 'Dev: IKEA -> Hue Brightness Down'
  description: ''
  trigger:
  - device_id: 8c374a1a2dc294ec7b4467957a7df0d5
    domain: zha
    platform: device
    type: remote_button_short_press
    subtype: dim_down
  condition: []
  action:
  - device_id: b5baa12d1a26a8ad901d8df8d402b3ba
    domain: light
    entity_id: light.hue_lightstrip_2
    type: brightness_decrease
  mode: single
- id: '1628146216133'
  alias: 'Dev: Brian Office Aqara Magic Cube '
  description: ''
  use_blueprint:
    path: brent/zha-aqara-magic-cube-57-actions.yaml
    input:
      remote: b3ce2b1c1dc23e7ec88ae1c852649300
      cube_flip_1:
      - type: turn_on
        device_id: 23be386d38e0662d2c57016afb75e9a4
        entity_id: light.sengled_02_level_light_color_on_off
        domain: light
        brightness_pct: 20
      - type: turn_on
        device_id: 4e17e97b1f978fb30965feb2ea46c2b5
        entity_id: switch.brianofficeledbar
        domain: switch
      cube_flip_4:
      - type: turn_off
        device_id: 23be386d38e0662d2c57016afb75e9a4
        entity_id: light.sengled_02_level_light_color_on_off
        domain: light
      - type: turn_off
        device_id: 4e17e97b1f978fb30965feb2ea46c2b5
        entity_id: switch.brianofficeledbar
        domain: switch
      - type: turn_off
        device_id: b5baa12d1a26a8ad901d8df8d402b3ba
        entity_id: light.hue_lightstrip_2
        domain: light
      rotate_right:
      - device_id: 23be386d38e0662d2c57016afb75e9a4
        domain: light
        entity_id: light.sengled_02_level_light_color_on_off
        type: brightness_increase
      rotate_left:
      - device_id: 23be386d38e0662d2c57016afb75e9a4
        domain: light
        entity_id: light.sengled_02_level_light_color_on_off
        type: brightness_decrease
      flip_any: true
      cube_flip_5:
      - type: turn_on
        device_id: b5baa12d1a26a8ad901d8df8d402b3ba
        entity_id: light.hue_lightstrip_2
        domain: light
        brightness_pct: 100
      cube_flip_6:
      - type: turn_off
        device_id: b5baa12d1a26a8ad901d8df8d402b3ba
        entity_id: light.hue_lightstrip_2
        domain: light
- id: '1628185959282'
  alias: 'Dev: left button IKEA toggle power on Brian Office LED'
  description: ''
  trigger:
  - device_id: 8c374a1a2dc294ec7b4467957a7df0d5
    domain: zha
    platform: device
    type: remote_button_short_press
    subtype: left
  condition: []
  action:
  - type: toggle
    device_id: 4e17e97b1f978fb30965feb2ea46c2b5
    entity_id: switch.brianofficeledbar
    domain: switch
  mode: single
- id: '1628299869781'
  alias: 'Dev: Motion-activated Light'
  description: ''
  use_blueprint:
    path: homeassistant/motion_light.yaml
    input:
      motion_entity: binary_sensor.pantrymotion_ias_zone
      light_target:
        entity_id: light.sengled_01_2aea0203_level_light_color_on_off
      no_motion_wait: 60
- id: '1628306255069'
  alias: 'Kitchen - Pantry: light off after 3 minutes'
  description: ''
  trigger:
  - platform: state
    entity_id: light.pantrylight
    from: 'off'
    to: 'on'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 00:03:00
    target:
      entity_id: timer.pantry_light_on_countdown
  mode: single
- id: '1628309017551'
  alias: 'Utilities: water heater pump on'
  description: ''
  trigger:
  - platform: time_pattern
    minutes: /30
  condition:
  - condition: time
    after: 05:00:00
    before: '23:00:00'
  action:
  - type: turn_on
    device_id: c8754a8bac235609bed96a4a7b2c4d93
    entity_id: switch.waterheaterpumpswitch
    domain: switch
  - service: timer.start
    data:
      duration: 00:05:00
    target:
      entity_id: timer.waterheater_pump_on_countdown
  mode: single
- id: '1628309364895'
  alias: 'Utilities: water heater pump off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.waterheater_pump_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: c8754a8bac235609bed96a4a7b2c4d93
    entity_id: switch.waterheaterpumpswitch
    domain: switch
  mode: single
- id: '1628315524668'
  alias: 'LaundryRoom:  Off After Timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.laundryroom_light_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: 5878f7ba610ef24c89403ae7502365f8
    entity_id: light.laundryroomlight
    domain: light
  mode: single
- id: '1628315551454'
  alias: 'LaundryRoom: On Trigger Timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.laundryroomlight
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 00:01:00
    target:
      entity_id: timer.laundryroom_light_on_countdown
  - condition: state
    entity_id: binary_sensor.laundryroommotion_a7254423_ias_zone
    state: 'on'
  - service: timer.pause
    target:
      entity_id: timer.laundryroom_light_on_countdown
  mode: single
- id: '1628315601275'
  alias: 'LaundryRoom: Timer Cancel When Off'
  description: ''
  trigger:
  - platform: state
    entity_id: light.laundryroomlight
    to: 'off'
    from: 'on'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.laundryroom_light_on_countdown
  mode: single
- id: '1628315619820'
  alias: 'LaundryRoom: Timer Pause During Motion'
  description: ''
  trigger:
  - platform: state
    entity_id: binary_sensor.laundryroommotion_a7254423_ias_zone
    to: 'on'
  condition:
  - condition: state
    entity_id: light.laundryroomlight
    state: 'on'
  action:
  - service: timer.pause
    target:
      entity_id: timer.laundryroom_light_on_countdown
  mode: single
- id: '1628315635919'
  alias: 'LaundryRoom: Timer Start After Motion'
  description: ''
  trigger:
  - platform: state
    entity_id: binary_sensor.laundryroommotion_a7254423_ias_zone
    to: 'off'
    from: 'on'
  condition: []
  action:
  - condition: state
    entity_id: light.laundryroomlight
    state: 'on'
  - service: timer.start
    data:
      duration: 00:01:00
    target:
      entity_id: timer.laundryroom_light_on_countdown
  mode: single
- id: '1628345640233'
  alias: 'Closet - Amber: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: light.amberclosetlight
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.amber_closet_light_on_countdown
  mode: single
- id: '1628345673023'
  alias: 'Closet - Amber: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.amber_closet_light_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: d1e0e9e72aaf50311cdba23e0a800383
    entity_id: light.amberclosetlight
    domain: light
  mode: single
- id: '1628345723261'
  alias: 'Closet - Amber: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.amberclosetlight
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    target:
      entity_id: timer.amber_closet_light_on_countdown
    data:
      duration: 00:10:00
  mode: single
- id: '1628346050051'
  alias: 'System: home assistant push config push to git'
  description: ''
  trigger:
  - platform: time_pattern
    hours: /1
  condition: []
  action:
  - service: shell_command.pushtogit
  - service: notify.mobile_app_pixel_3_xl
  mode: single
- id: '1628346369190'
  alias: 'Outside - Patio1: Cancel Timer When Off'
  description: ''
  trigger:
  - platform: state
    entity_id: light.patiolight1
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.patio_light_on_countdown
  mode: single
- id: '1628346418430'
  alias: 'Outside - Patio1: Off After Timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.patio_light_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: b76d1a9e3daa7c0c6bfa200a89c84faa
    entity_id: light.patiolight1
    domain: light
  mode: single
- id: '1628346450522'
  alias: 'Outside - Patio1: On Trigger Timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.patiolight1
    to: 'on'
  condition: []
  action:
  - service: timer.start
    target:
      entity_id: timer.patio_light_on_countdown
    data:
      duration: 00:30:00
  mode: single
- id: '1628348347084'
  alias: 'Kitchen - Hall: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: light.kitchenhalllight
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.kitchenhall_light_on_countdown
  mode: single
- id: '1628348407867'
  alias: 'Kitchen - Hall: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.kitchenhall_light_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: 0d8d9172d552f7c99edadf27b21c6d0c
    entity_id: light.kitchenhalllight
    domain: light
  mode: single
- id: '1628348520315'
  alias: 'Kitchen - Hall: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.kitchenhalllight
    to: 'on'
  condition: []
  action:
  - service: timer.start
    target:
      entity_id: timer.kitchenhall_light_on_countdown
    data:
      duration: 00:10:00
  mode: single
- id: '1628349362683'
  alias: 'Kitchen - Pantry: motion light on start timer'
  description: ''
  trigger:
  - platform: state
    entity_id: binary_sensor.pantrymotion_ias_zone
    from: 'off'
    to: 'on'
  condition: []
  action:
  - type: turn_on
    device_id: abde47d3414e06a1174d725e641e67d4
    entity_id: light.pantrylight
    domain: light
  - service: timer.start
    data:
      duration: 00:01:00
    target:
      entity_id: timer.pantry_light_on_countdown
  - service: timer.pause
    target:
      entity_id: timer.pantry_light_on_countdown
  mode: single
- id: '1628349454297'
  alias: 'Kitchen - Pantry: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.pantry_light_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: abde47d3414e06a1174d725e641e67d4
    entity_id: light.pantrylight
    domain: light
  mode: single
- id: '1628349536195'
  alias: 'Kitchen - Pantry: on trigger motion off timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.pantrylight
    to: 'on'
  condition:
  - condition: state
    entity_id: binary_sensor.pantrymotion_ias_zone
    state: 'off'
  action:
  - service: timer.start
    target:
      entity_id: timer.pantry_light_on_countdown
    data:
      duration: 00:01:00
  mode: single
- id: '1628349581779'
  alias: 'Kitchen - Pantry: on trigger motion on timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.pantrylight
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 00:01:00
    target:
      entity_id: timer.pantry_light_on_countdown
  - service: timer.pause
    target:
      entity_id: timer.pantry_light_on_countdown
  mode: single
- id: '1628349664349'
  alias: 'Kitchen - Pantry: timer cancel when off'
  description: ''
  trigger:
  - platform: state
    entity_id: light.pantrylight
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.pantry_light_on_countdown
  mode: single
- id: '1628349714469'
  alias: 'Kitchen - Pantry: timer pause during motion'
  description: ''
  trigger:
  - platform: state
    entity_id: binary_sensor.pantrymotion_ias_zone
    to: 'on'
  condition:
  - condition: state
    entity_id: light.pantrylight
    state: 'on'
  action:
  - service: timer.pause
    target:
      entity_id: timer.pantry_light_on_countdown
  mode: single
- id: '1628349760007'
  alias: 'Kitchen - Pantry: timer start after motion'
  description: ''
  trigger:
  - platform: state
    entity_id: binary_sensor.pantrymotion_ias_zone
    to: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 00:01:00
    target:
      entity_id: timer.pantry_light_on_countdown
  mode: single
- id: '1628350644374'
  alias: 'Pool - Waterfall: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.waterfall
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 00:15:00
    target:
      entity_id: timer.pool_waterfall_on_countdown
  mode: single
- id: '1628350897208'
  alias: 'Pool - Waterfall: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.pool_waterfall_on_countdown
  condition: []
  action:
  - service: mqtt.publish
    data:
      topic: aqualinkd/Aux_2/set
      payload: '0'
  mode: single
- id: '1628350959357'
  alias: 'Pool - Waterfall: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.waterfall
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.pool_waterfall_on_countdown
  mode: single
- id: '1628351742930'
  alias: 'Pool - Spajets: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.spa_jets
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.pool_spajets_on_countdown
  mode: single
- id: '1628351799198'
  alias: 'Pool - Spajets: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.pool_spajets_on_countdown
  condition: []
  action:
  - service: mqtt.publish
    data:
      topic: aqualinkd/Aux_1/set
      payload: '0'
  mode: single
- id: '1628351846973'
  alias: 'Pool - Spajets: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.spa_jets
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 01:00:00
    target:
      entity_id: timer.pool_spajets_on_countdown
  mode: single
- id: '1628352084116'
  alias: 'Pool - Pool Light: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.pool_light
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.pool_poollight_on_countdown
  mode: single
- id: '1628352205397'
  alias: 'Pool - Pool Light: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.pool_poollight_on_countdown
  condition: []
  action:
  - service: mqtt.publish
    data:
      topic: aqualinkd/Aux_4/set
      payload: '0'
  mode: single
- id: '1628352260831'
  alias: 'Pool - Pool Light: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.pool_light
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 01:00:00
    target:
      entity_id: timer.pool_poollight_on_countdown
  mode: single
- id: '1628352396317'
  alias: 'Pool - Spa Light: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.spa_light
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.pool_spalight_on_countdown
  mode: single
- id: '1628352446451'
  alias: 'Pool - Spa Light: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.pool_spalight_on_countdown
  condition: []
  action:
  - service: mqtt.publish
    data:
      topic: aqualinkd/Aux_3/set
      payload: '0'
  mode: single
- id: '1628352480662'
  alias: 'Pool - Spa Light: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.spa_light
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 01:00:00
    target:
      entity_id: timer.pool_spalight_on_countdown
  mode: single
- id: '1628358968235'
  alias: 'Kitchen - Sink: LED on at sunset'
  description: ''
  trigger:
  - platform: sun
    event: sunset
  condition: []
  action:
  - scene: scene.kitchen_sink_on
  mode: single
- id: '1628358992349'
  alias: 'Kitchen - Sink: LED off at sunrise'
  description: ''
  trigger:
  - platform: sun
    event: sunrise
  condition: []
  action:
  - scene: scene.kitchen_sink_off
  mode: single
- id: '1628371498179'
  alias: 'Garage: doors opened after dark lights on'
  description: ''
  trigger:
  - platform: state
    entity_id: cover.garage_door
    from: closed
    to: open
  - platform: state
    entity_id: binary_sensor.garage_side_door_status
    from: 'off'
    to: 'on'
  condition:
  - condition: or
    conditions:
    - condition: sun
      after: sunset
    - condition: sun
      before: sunrise
  action:
  - type: turn_on
    device_id: 625d9ab18632387169827ec701b17f55
    entity_id: light.garagelight
    domain: light
  mode: single
- id: '1628374612600'
  alias: 'Garage - light: off after timer'
  description: ''
  trigger:
  - platform: event
    event_type: timer.finished
    event_data:
      entity_id: timer.garage_light_on_countdown
  condition: []
  action:
  - type: turn_off
    device_id: 625d9ab18632387169827ec701b17f55
    entity_id: light.garagelight
    domain: light
  mode: single
- id: '1628374672781'
  alias: 'Garage - light: on trigger timer'
  description: ''
  trigger:
  - platform: state
    entity_id: light.garagelight
    to: 'on'
    from: 'off'
  condition: []
  action:
  - service: timer.start
    data:
      duration: 00:30:00
    target:
      entity_id: timer.garage_light_on_countdown
  mode: single
- id: '1628374921475'
  alias: 'Garage - Light: cancel timer when off'
  description: ''
  trigger:
  - platform: state
    entity_id: light.garagelight
    to: 'off'
  condition: []
  action:
  - service: timer.cancel
    target:
      entity_id: timer.garage_light_on_countdown
  mode: single
- id: '1628378298478'
  alias: Sunrise
  description: ''
  trigger:
  - platform: sun
    event: sunrise
  condition: []
  action:
  - scene: scene.sunrise
  mode: single
- id: '1628378324806'
  alias: Sunset
  description: ''
  trigger:
  - platform: sun
    event: sunset
  condition: []
  action:
  - type: turn_on
    device_id: 2a828858a9bd7a45b0880961613d6190
    entity_id: light.outsidelight
    domain: light
  - service: light.turn_on
    target:
      entity_id: light.porchlight
    data:
      brightness_pct: 40
  - type: turn_on
    device_id: 112ba05910558f51eb5ed1c26baecfa9
    entity_id: light.fireplacelight
    domain: light
    brightness_pct: 76
  - service: light.turn_on
    target:
      entity_id: light.kitchen_sink_2aea0203_level_light_color_on_off
    data:
      brightness: 8
      color_temp: 370
  - type: turn_on
    device_id: 93ab05e23b299762055d1349646d0a16
    entity_id: switch.garagepowertoolswitch
    domain: switch
  - service: light.turn_on
    target:
      entity_id: light.hue_lightstrip_2
    data:
      rgb_color:
      - 51
      - 153
      - 255
      brightness: 75
  mode: single
- id: '1628393139476'
  alias: 'Office - Amber: Light on Bloom On'
  description: ''
  trigger:
  - platform: state
    entity_id: light.amberofficelight
    to: 'on'
  condition: []
  action:
  - service: light.turn_on
    target:
      entity_id: light.hue_bloom_1
    data:
      color_name: yellow
      brightness: 255
  mode: single
- id: '1628393217287'
  alias: 'Office - Amber: Light off Bloom blue'
  description: ''
  trigger:
  - platform: state
    entity_id: light.amberofficelight
    to: 'off'
  condition: []
  action:
  - service: light.turn_on
    target:
      entity_id: light.hue_bloom_1
    data:
      brightness: 75
      rgb_color:
      - 51
      - 153
      - 255
  mode: single
- id: '1628473933340'
  alias: 'Laundry: Washer Idle'
  description: ''
  trigger:
  - type: power
    platform: device
    device_id: d33410e3dd6f05cabbdecfe0f1466070
    entity_id: sensor.laundrywasher_energy_power
    domain: sensor
    below: 5
    for:
      hours: 0
      minutes: 4
      seconds: 0
      milliseconds: 0
  condition: []
  action:
  - service: input_text.set_value
    target:
      entity_id: input_text.washer_state
    data:
      value: idle
  - service: tts.cloud_say
    data:
      entity_id: media_player.brian_office
      message: The washing machine is done
  mode: single
- id: '1628474046253'
  alias: 'Laundry: Washer Washing'
  description: ''
  trigger:
  - type: power
    platform: device
    device_id: d33410e3dd6f05cabbdecfe0f1466070
    entity_id: sensor.laundrywasher_energy_power
    domain: sensor
    below: 0
    for:
      hours: 0
      minutes: 4
      seconds: 0
      milliseconds: 0
    above: 4
  condition: []
  action:
  - service: input_text.set_value
    target:
      entity_id: input_text.washer_state
    data:
      value: washing
  mode: single
- id: '1628483088277'
  alias: 'Office - Brian: Light off Hue blue'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.brianofficeledbar
    to: 'off'
  condition: []
  action:
  - service: light.turn_on
    target:
      entity_id: light.hue_lightstrip_2
    data:
      brightness: 75
      rgb_color:
      - 51
      - 153
      - 255
  mode: single
- id: '1628483200979'
  alias: 'Office - Brian: Light on Hue blue bright'
  description: ''
  trigger:
  - platform: state
    entity_id: switch.brianofficeledbar
    to: 'on'
  condition: []
  action:
  - service: light.turn_on
    target:
      entity_id: light.hue_lightstrip_2
    data:
      brightness: 180
      color_name: yellow
  mode: single
- id: '1628484361060'
  alias: 'Tastmota: Publish TelePeriod 30 to tastmotas'
  description: ''
  trigger: []
  condition: []
  action:
  - service: mqtt.publish
    data:
      topic: cmnd/tasmotas/TelePeriod
      payload: '30'
  mode: single
